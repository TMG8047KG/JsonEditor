import { Window } from '@tauri-apps/api/window';
import style from "./styles/nav.module.css"

function navbar(){

    const handleClose = async () => {
        const currentWindow = await Window.getCurrent();
        currentWindow.close();
    };

    const handleMaximize = async () => {
        const currentWindow = await Window.getCurrent();
        console.log(await currentWindow.isMaximized());
        
        if(await currentWindow.isMaximized()){
            currentWindow.unmaximize()
        }else{
            currentWindow.maximize();
        }
    };

    const handleMinimize = async () => {
        const currentWindow = await Window.getCurrent();
        currentWindow.minimize();
    };

    return(
        <div className={style.container} data-tauri-drag-region>
            <div className={style.logo}>
                <svg width="50" height="50" viewBox="0 0 262 168" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <rect x="7.67123" width="195.616" height="168" rx="20" fill="#FAD02C"/>
                    <path d="M54.8951 36.0963C57.9985 28.6392 65.2828 23.7808 73.3598 23.7808H230.926C245.37 23.7808 255.052 38.6236 249.229 51.8425L203.326 156.062C200.13 163.317 192.95 168 185.022 168H29.9864C15.7184 168 6.03947 153.488 11.5216 140.315L54.8951 36.0963Z" fill="#333652"/>
                    <path d="M109.36 139.552C105.84 139.552 102.96 139.008 100.72 137.92C98.48 136.832 96.752 135.328 95.536 133.408C94.384 131.552 93.584 129.408 93.136 126.976C92.688 124.544 92.464 121.984 92.464 119.296C92.464 118.592 92.464 117.888 92.464 117.184C92.528 116.416 92.592 115.68 92.656 114.976C92.72 114.272 92.752 113.568 92.752 112.864C92.816 112.096 92.848 111.328 92.848 110.56C92.848 108.576 92.304 106.944 91.216 105.664C90.192 104.32 88.88 103.296 87.28 102.592C85.68 101.888 83.984 101.536 82.192 101.536V93.664C83.984 93.664 85.68 93.344 87.28 92.704C88.88 92 90.192 90.976 91.216 89.632C92.304 88.288 92.848 86.688 92.848 84.832C92.848 83.808 92.816 82.784 92.752 81.76C92.688 80.736 92.624 79.712 92.56 78.688C92.496 77.664 92.464 76.672 92.464 75.712C92.464 72.128 92.88 68.832 93.712 65.824C94.608 62.752 96.272 60.288 98.704 58.432C101.136 56.512 104.688 55.552 109.36 55.552C111.216 55.552 112.944 55.712 114.544 56.032C116.144 56.352 117.328 56.672 118.096 56.992L114.64 68.128L107.152 64.96C105.936 65.472 105.136 66.72 104.752 68.704C104.432 70.624 104.272 72.832 104.272 75.328C104.272 76.864 104.272 78.176 104.272 79.264C104.336 80.352 104.368 81.632 104.368 83.104C104.368 88.032 103.632 91.552 102.16 93.664C100.752 95.712 98.416 96.96 95.152 97.408V97.792C98.416 98.176 100.752 99.424 102.16 101.536C103.632 103.648 104.368 107.168 104.368 112.096C104.368 113.568 104.336 114.816 104.272 115.84C104.272 116.864 104.272 118.176 104.272 119.776C104.272 122.208 104.432 124.416 104.752 126.4C105.136 128.384 105.936 129.632 107.152 130.144L114.64 126.88L118.096 138.112C117.328 138.368 116.144 138.656 114.544 138.976C112.944 139.36 111.216 139.552 109.36 139.552ZM124.995 149.728C123.395 149.728 121.827 149.44 120.291 148.864C118.755 148.352 117.314 147.52 115.97 146.368L121.155 138.208C121.475 138.464 121.859 138.72 122.307 138.976C122.819 139.296 123.331 139.456 123.843 139.456C124.931 139.456 125.571 138.944 125.763 137.92C126.019 136.896 126.147 135.616 126.147 134.08V85.792H121.251L120.195 79.264L134.403 76.768L137.763 80.224V133.888C137.763 137.6 137.283 140.512 136.323 142.624C135.363 144.8 134.179 146.368 132.771 147.328C131.427 148.352 130.019 148.992 128.547 149.248C127.139 149.568 125.955 149.728 124.995 149.728ZM130.467 67.36C128.611 67.36 126.979 66.688 125.571 65.344C124.227 63.936 123.555 62.272 123.555 60.352C123.555 58.496 124.227 56.896 125.571 55.552C126.979 54.144 128.611 53.44 130.467 53.44C132.387 53.44 134.019 54.144 135.363 55.552C136.771 56.896 137.475 58.496 137.475 60.352C137.475 62.272 136.771 63.936 135.363 65.344C134.019 66.688 132.387 67.36 130.467 67.36ZM151.843 139.552C149.987 139.552 148.259 139.36 146.659 138.976C145.059 138.656 143.843 138.368 143.011 138.112L146.563 126.88L154.051 130.144C154.883 129.76 155.491 129.056 155.875 128.032C156.323 127.072 156.611 125.856 156.739 124.384C156.867 122.912 156.931 121.376 156.931 119.776C156.931 118.176 156.899 116.864 156.835 115.84C156.835 114.816 156.835 113.568 156.835 112.096C156.835 107.168 157.539 103.648 158.947 101.536C160.419 99.424 162.787 98.176 166.051 97.792V97.408C162.787 96.96 160.419 95.712 158.947 93.664C157.539 91.552 156.835 88.032 156.835 83.104C156.835 81.632 156.835 80.352 156.835 79.264C156.899 78.176 156.931 76.864 156.931 75.328C156.931 72.832 156.771 70.624 156.451 68.704C156.131 66.72 155.331 65.472 154.051 64.96L146.563 68.128L143.011 56.992C143.843 56.672 145.059 56.352 146.659 56.032C148.259 55.712 149.987 55.552 151.843 55.552C156.579 55.552 160.131 56.512 162.499 58.432C164.931 60.288 166.563 62.752 167.395 65.824C168.291 68.832 168.739 72.128 168.739 75.712C168.739 76.672 168.707 77.664 168.643 78.688C168.579 79.712 168.515 80.736 168.451 81.76C168.387 82.784 168.355 83.808 168.355 84.832C168.355 86.688 168.867 88.288 169.891 89.632C170.979 90.976 172.323 92 173.923 92.704C175.587 93.344 177.283 93.664 179.011 93.664V101.536C177.283 101.536 175.587 101.888 173.923 102.592C172.323 103.296 170.979 104.32 169.891 105.664C168.867 106.944 168.355 108.576 168.355 110.56C168.355 111.328 168.355 112.096 168.355 112.864C168.419 113.568 168.483 114.272 168.547 114.976C168.611 115.68 168.643 116.416 168.643 117.184C168.707 117.888 168.739 118.592 168.739 119.296C168.739 121.984 168.515 124.544 168.067 126.976C167.619 129.408 166.787 131.552 165.571 133.408C164.419 135.328 162.723 136.832 160.483 137.92C158.307 139.008 155.427 139.552 151.843 139.552Z" fill="#FAD02C"/>
                </svg>
            </div>
            <h1 className={style.title}>Json Editor</h1>
            <div className={style.buttons}>
                <button className={style.button} onClick={handleMinimize}>
                    <svg width="50" height="50" viewBox="0 0 50 50" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <line x1="8" y1="41.5" x2="43" y2="41.5" stroke="black" strokeWidth={3}/>
                    </svg>
                </button>
                <button className={style.button} onClick={handleMaximize}>
                    <svg width="50" height="50" viewBox="0 0 50 50" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <line x1="8" y1="39.5" x2="43" y2="39.5" stroke="black" strokeWidth={3} strokeLinecap='round'/>
                        <line x1="8" y1="8.5" x2="43" y2="8.5" stroke="black" strokeWidth={3} strokeLinecap='round'/>
                        <line x1="8.5" y1="9" x2="8.5" y2="40" stroke="black" strokeWidth={3} strokeLinecap='round'/>
                        <line x1="42.5" y1="9" x2="42.5" y2="40" stroke="black" strokeWidth={3} strokeLinecap='round'/>
                    </svg>                
                </button>
                <button className={style.button} onClick={handleClose}>
                    <svg width="50" height="50" viewBox="0 0 50 50" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <line y1="-0.5" x2="38.3322" y2="-0.5" transform="matrix(-0.734803 0.67828 -0.530446 -0.847719 39.1667 12)" stroke="black" strokeWidth={3}/>
                        <line y1="-0.5" x2="38.3322" y2="-0.5" transform="matrix(0.734803 0.67828 0.530446 -0.847719 11 12)" stroke="black" strokeWidth={3}/>
                    </svg>
                </button>
            </div>
            
        </div>
    )
}

export default navbar;